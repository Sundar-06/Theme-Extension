<script src="{{ 'cartSync.js' | asset_url }}" defer></script>

<!-- cart_sync.liquid -->
<div
  id="cart-loader"
  style="
    display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(255, 255, 255, 0.8); z-index: 9999; align-items: center; justify-content: center;
  "
>
  <div style="font-size: 20px; color: #000;">Syncing cart, please wait...</div>
</div>

<script>
  window.customerData = {
    isLoggedIn: {% if customer %}true{% else %}false{% endif %},
    email: {% if customer %}"{{ customer.email }}"{% else %}null{% endif %},
    id: {% if customer %}{{ customer.id }}{% else %}null{% endif %}
  };  

</script>

{% schema %}
{
  "name": "cart-sync",
  "target": "body",
  "settings": []
}
{% endschema %}
